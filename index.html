<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="pics/icon.jpg" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
        integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;300;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <title>Půjčovna kol</title>
</head>

<body>
    <div class="container mb-5">
        <h1 class="text-center mt-3">Půjčovna kol</h1>
        <h3 class="text-center display-5">Objednávkový formulář</h3>
        <form class="form" action="" name="f_kola">
            <div id="bg-form">
                <div class="row ml-5 mt-3">
                    <div class="col-6">
                        <h4>Typ kola</h4>
                        <div class="form-check">
                            <input class="form-check-input" onchange="cenaZaKolo()" type="checkbox" value="500" id="horskeKolo">
                            <label class="form-check-label" for="horskeKolo">Horské 500 Kč/den</label>
                        </div>
                    </div>
                    <div class="col-6">
                        <h4>Počet</h4>
                        <div class="form-group">
                            <input type="number" onchange="cenaZaKolo()" class="form-control width-num w-25" id="horskeDny" min="0" value="0">
                        </div>
                    </div>
                </div>
                <div class="row ml-5">
                    <div class="col-6 ">
                        <div class="form-check">
                            <input class="form-check-input" onchange="cenaZaKolo()" type="checkbox" value="200" id="detskeKolo">
                            <label class="form-check-label" for="detskeKolo">Dětské 200 Kč/den</label>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-group">
                            <input type="number" onchange="cenaZaKolo()"class="form-control width-num w-25" id="detskeDny" min="0" value="0">
                        </div>
                    </div>
                </div>
                <div class="row ml-5">
                    <div class="col-6">
                        <div class="form-check">
                            <input class="form-check-input" onchange="cenaZaKolo()" type="checkbox" value="1500" id="silnicniKolo">
                            <label class="form-check-label" for="silnicniKolo">Silniční 1500 Kč/den</label>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-group">
                            <input type="number" onchange="cenaZaKolo()" class="form-control width-num w-25" id="silnicniDny" min="0" value="0">
                        </div>
                    </div>
                </div>
                <div class="row ml-5">
                    <div class="col-6">
                        <div class="form-check">
                            <input class="form-check-input" onchange="cenaZaKolo()" type="checkbox" value="2500" id="gravelKolo">
                            <label class="form-check-label" for="gravelKolo">Gravel 2500 Kč/den</label>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-group">
                            <input type="number" onchange="cenaZaKolo()" class="form-control width-num w-25" id="gravelDny" min="0" value="0">
                        </div>
                    </div>
                </div>
                <hr>
                <div class="row ml-5 ">
                    <div class="col-6">
                        <h4>Počet dní zapůjčení:</h4>
                    </div>
                    <div class="form-group col-6">
                        <select id="dnyVyp" onchange="cenaZaKolo()" class="form-control w-50">
                            <option value="1">1 den</option>
                            <option value="5">5 dní</option>
                            <option value="14">14 dní</option>
                            <option value="30">30 dní</option>
                        </select>
                    </div>
                </div>
                <hr>
                <div class="row ml-3 ">
                    <div class="col-6">
                        <h4>Cyklonosič:</h4>
                    </div>
                    <div class="form-group col-6">
                        <input type="radio" onchange="cenaZaKolo()" name="prislusenstvi" id="nosicStresni" value="5">
                        <label for="nosicStresni" data-toggle="tooltip" data-placement="top"
                            title="+5% z celkové ceny zápůjčky navíc">Cyklonosič střešní</label><br>

                        <input type="radio" onchange="cenaZaKolo()" name="prislusenstvi" id="nosicTazne" value="10">
                        <label for="nosicTazne" data-toggle="tooltip" data-placement="top"
                            title="+10% z celkové ceny zápůjčky navíc">Cyklonosič tažné zařízení</label><br>
                        <input type="radio" onchange="cenaZaKolo()" name="prislusenstvi" id="nosicNechci" value="0" checked>
                        <label for="nosicNechci">Bez cyklonosiče</label><br>
                    </div>
                </div>
                <hr>
                <div class="row ml-5 my-3">
                    <div class="col-6 text-center">
                        <button type="button" class="btn btn-primary btn-lg" onclick="cenaZaKolo()">Vypočti</button>
                    </div>
                    <div class="form-group col-6">
                        <input type="text" class="form-control w-50" id="celkovaCena">
                    </div>
                </div>
                <hr>
                <div class="row ml-5 my-3">
                    <div class="col-6 text-center">
                        <h4>Váš návrh částky</h4>
                        <button type="button" class="btn btn-primary btn-lg mt-3" onclick="overNabidku()">Ověř
                            rozpočet</button>
                    </div>
                    <div class="form-group col-6">
                        <input type="text" class="form-control w-50" id="nabidka">
                        <input type="text" class="form-control w-50 mt-3" id="schvaleni">
                    </div>
                </div>
                <hr>
                <div class="d-flex row ml-2 my-3">
                    
                        <h4 class="text-center">Kontaktní email</h4>
                        <input type="email" class="form-control w-75" id="email" placeholder="name@gmail.com">
                        <button type="button" class="btn btn-primary ml-2 " onclick="overEmail()">Odešli</button>
                   
                        <span id="vyzva"></span>
                 
                </div>

            </div>
        </form>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"
        integrity="sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2"
        crossorigin="anonymous"></script>

    <script>$(function () {
            $('[data-toggle="tooltip"]').tooltip()

        });
        let cenaZaKolaCelkem;

        function cenaZaKolo() {
            cenaZaKolaCelkem = 0;

            if (document.querySelector('#horskeKolo').checked) {
                cenaZaKolaCelkem += parseInt(document.querySelector('#horskeKolo').value) * document.querySelector('#horskeDny').value;
            }
            if (document.querySelector('#detskeKolo').checked) {
                cenaZaKolaCelkem += parseInt(document.querySelector('#detskeKolo').value) * document.querySelector('#detskeDny').value;
            }
            if (document.querySelector('#silnicniKolo').checked) {
                cenaZaKolaCelkem += parseInt(document.querySelector('#silnicniKolo').value) * document.querySelector('#silnicniDny').value;
            }
            if (document.querySelector('#gravelKolo').checked) {
                cenaZaKolaCelkem += parseInt(document.querySelector('#gravelKolo').value) * document.querySelector('#gravelDny').value;
            }
            //pocet dni zapujceni
            cenaZaKolaCelkem = cenaZaKolaCelkem * document.querySelector('#dnyVyp').value;
            //nosic
            cenaZaKolaCelkem += (document.f_kola.prislusenstvi.value / 100) * cenaZaKolaCelkem;


            document.querySelector('#celkovaCena').value = cenaZaKolaCelkem;
        };

        function overNabidku() {
            let nabid = parseInt(document.querySelector('#nabidka').value);
            if (nabid >= cenaZaKolaCelkem) {
                document.querySelector('#schvaleni').value = "Schválen";
                document.querySelector('#schvaleni').style.color = 'green';
            }
            else {
                document.querySelector('#schvaleni').value = "Zamítnut";
                document.querySelector('#schvaleni').style.color = 'black';
            }
        };

        function overEmail() {
            let mailAddress;
            mailAddress = document.querySelector('#email').value.includes('@');
            if (mailAddress) {
                document.querySelector('#vyzva').innerHTML = "<span style=color:green><br>V pořádku odesláno!";
            } else {
                document.querySelector('#vyzva').innerHTML = "<span style=color:black><br>Email není zadán ve správném tvaru!!";
            }
        };

    </script>

    </body>

</html>